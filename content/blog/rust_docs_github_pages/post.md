---
cover_image:  https://res.cloudinary.com/practicaldev/image/fetch/s--QvP6eNSL--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rmk6y6d95caiha8nxngk.jpg
date: 2021-11-08T12:00:00.000Z
title: Prepare your Rust API docs for Github Pages 
tags:
  - beginners
  - tutorial
  - rust
  - github
---
Rust comes with a built-in documentation system, [`rustdoc`](https://doc.rust-lang.org/rustdoc/what-is-rustdoc.html).  It's great, use it.

Github comes with a built-in web hosting service, [Github Pages](https://pages.github.com/).  It's great, use it.

To use Github Pages, you can either create a directory in your repository to host your deployed web content or a separate branch and then activate the feature in the "Pages" section of your repository settings:

![settings screenshot](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/b8lir12pnvm9v9v9q1go.png)

Great!

You get a directory located at `<project>/target/doc` when you run `cargo doc` to generate your Rust documentation.  It contains the complete web content ready to publish.  If you execute `cargo doc --open`, your default browser will open up and show you what it generated.

Unfortunately, this folder can't be copied strictly as-is.  If you try, you'll get a 404.  This is because Github Pages is looking for an `index.html` file in the root directory of wherever it's pointed.  However, `cargo doc` created a _subdirectory_ for your crate specifically, where `index.html` lives.  Here's my example for a Rust package called `build_wheel`:

```txt
$ tree target/doc/
target/doc
├── ayu.css
├── brush.svg
├── build_wheel
│  ├── all.html
│  ├── fn.build_wheel.html
│  ├── index.html          <-- RIGHT HERE
│  ├── sidebar-items.js
│  ├── struct.Config.html
│  └── struct.Tag.html
├── clipboard.svg
/* ... etc, etc... */
```

Uh-oh, it's nested.  Github can't find it.  You can't just make a symbolic link to an `index.html` in the root directory because all the relative links inside will break.

Luckily, the fix is easy.  You simply need to create an `index.html` that reroutes where you want.  This file only consists of one line: `<meta http-equiv="refresh" content="0; url=build_wheel">`.

This file uses the [`http-equiv`](https://www.w3schools.com/tags/att_meta_http_equiv.asp) meta attribute to point immediately to the `build_wheel` subdirectory and load the `index.html` file found there.  Just replace the directory name with the name of your package.

When Github Pages tries to build your content, now it will find this root index page.  Users will load this page and immediately refresh the page you intended to display, and all the internal links generated by `rustdoc` will work as expected.

Neat.

Cover photo by [Kelly Sikkema](https://unsplash.com/@kellysikkema?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/instructions?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
  